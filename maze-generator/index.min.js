!function e(t,r,i){function s(o,l){if(!r[o]){if(!t[o]){var a="function"==typeof require&&require;if(!l&&a)return a(o,!0);if(n)return n(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var h=r[o]={exports:{}};t[o][0].call(h.exports,function(e){var r=t[o][1][e];return s(r?r:e)},h,h.exports,e,t,r,i)}return r[o].exports}for(var n="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t,r){"use strict";t.exports.Maze=e("./src/maze.js"),t.exports.Solver=e("./src/solver.js")},{"./src/maze.js":3,"./src/solver.js":4}],2:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function e(t,r){i(this,e),this.x=t,this.y=r,this.visited=!1,this.flooded=!1,this.walls=[!0,!0,!0,!0]};t.exports=s},{}],3:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=e("./cell.js"),o=0,l=1,a=2,u=3,h=function(){function e(t,r){var s=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];i(this,e),this.cols=t,this.rows=r,this.cells=this.populate(),void 0!==s&&void 0!==n?(s=Math.max(0,Math.min(s,this.cols-1)),n=Math.max(0,Math.min(s,this.rows-1)),this.start=this.cells[this.index(s,n)]):this.start=this.random(this.cells),this.currentCell=this.start,this.currentCell.visited=!0}return s(e,[{key:"populate",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var r=0;r<this.cols;r++)e.push(new n(r,t));return e}},{key:"generate",value:function(){for(var e=!1;!e;)e=this.step();return this}},{key:"step",value:function(){if(this.currentCell){this.currentCell.visited=!0;var e=this.findNeighbors(this.currentCell,!0);if(e.length>0){var t=this.random(e);this.currentCell=this.dig(this.currentCell,t)}else{var r=this.hunt(this.cells);r?this.currentCell=this.dig(r.neighbor,r.cell):(this.end=this.currentCell,this.currentCell=null,console.log("maze created !"))}return!1}return!0}},{key:"hunt",value:function(e){if(!(e.length>0))return null;for(var t=0;t<e.length;t++){var r=e[t];if(!r.visited)for(var i=this.findNeighbors(r),s=0;s<i.length;s++){var n=i[s];if(n.visited)return{cell:r,neighbor:n}}}}},{key:"random",value:function(e){return e[Math.floor(Math.random()*e.length)]}},{key:"index",value:function(e,t){return e<0||e>this.cols-1||t<0||t>this.rows-1?-1:e+t*this.cols}},{key:"dig",value:function(e,t){if(e&&t){var r=t.x-e.x,i=t.y-e.y;r>0?(e.walls[l]=!1,t.walls[u]=!1):r<0&&(e.walls[u]=!1,t.walls[l]=!1),i>0?(e.walls[a]=!1,t.walls[o]=!1):i<0&&(e.walls[o]=!1,t.walls[a]=!1)}return t}},{key:"findNeighbors",value:function(e){for(var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=[],i=0;i<4;i++)switch(i){case o:var s=this.cells[this.index(e.x+0,e.y-1)];s&&(!t||t&&!s.visited)&&r.push(s);break;case l:var n=this.cells[this.index(e.x+1,e.y+0)];n&&(!t||t&&!n.visited)&&r.push(n);break;case a:var h=this.cells[this.index(e.x+0,e.y+1)];h&&(!t||t&&!h.visited)&&r.push(h);break;case u:var c=this.cells[this.index(e.x-1,e.y+0)];c&&(!t||t&&!c.visited)&&r.push(c)}return r}}]),e}();t.exports=h},{"./cell.js":2}],4:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=(e("./maze.js"),e("./cell.js"),0),o=1,l=2,a=3,u=function(){function e(t){i(this,e),this.maze=t,this.flood=[],this.flood.push(this.maze.start)}return s(e,[{key:"solve",value:function(){for(;!this.done;)this.done=this.step();return this}},{key:"step",value:function(){var e=this;if(this.solution){var t=this.solution[this.solution.length-1];if(t.source)this.solution.push(t.source);else if(t===this.maze.start)return this.solution.reverse(),console.log("solved !"),!0}else{for(var r=[],i=function(t){var i=e.flood[t];if(i.flooded=!0,i===e.maze.end)return e.solution=[],e.solution.push(i),"break";var s=e.findDirectNeighbors(i,!0).map(function(e){return e.source=i,e});r=r.concat(s)},s=0;s<this.flood.length;s++){var n=i(s);if("break"===n)break}this.flood=r}return!1}},{key:"findDirectNeighbors",value:function(e){for(var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=[],i=0;i<4;i++){var s=e.walls[i];if(s===!1)switch(i){case n:var u=this.maze.cells[this.maze.index(e.x+0,e.y-1)];u&&(!t||t&&!u.flooded)&&r.push(u);break;case o:var h=this.maze.cells[this.maze.index(e.x+1,e.y+0)];h&&(!t||t&&!h.flooded)&&r.push(h);break;case l:var c=this.maze.cells[this.maze.index(e.x+0,e.y+1)];c&&(!t||t&&!c.flooded)&&r.push(c);break;case a:var f=this.maze.cells[this.maze.index(e.x-1,e.y+0)];f&&(!t||t&&!f.flooded)&&r.push(f)}}return r}}]),e}();t.exports=u},{"./cell.js":2,"./maze.js":3}]},{},[1]);
