!function e(t,i,r){function n(l,o){if(!i[l]){if(!t[l]){var a="function"==typeof require&&require;if(!o&&a)return a(l,!0);if(s)return s(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[l]={exports:{}};t[l][0].call(h.exports,function(e){var i=t[l][1][e];return n(i?i:e)},h,h.exports,e,t,i,r)}return i[l].exports}for(var s="function"==typeof require&&require,l=0;l<r.length;l++)n(r[l]);return n}({1:[function(e,t,i){"use strict";var r=e("./src/index.js");t.exports=r},{"./src/index.js":3}],2:[function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function e(t,i){r(this,e),this.x=t,this.y=i,this.visited=!1,this.walls=[!0,!0,!0,!0]};t.exports=n},{}],3:[function(e,t,i){"use strict";function r(e,t){var i=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];o=new l(e,t,i,r)}function n(e){for(var t=0;t<2;t++)o.step();s(e)}function s(e){var t=e.getContext("2d"),i=10,r=(e.width-2*i)/o.cols,n=(e.height-2*i)/o.rows;t.clearRect(0,0,e.width,e.height),t.beginPath();for(var s=0;s<o.cells.length;s++){var l=o.cells[s];l===o.start||l==o.end?(t.fillStyle="red",t.fillRect(i+l.x*r,i+l.y*n,r,n)):l===o.currentCell?(t.fillStyle="yellow",t.fillRect(i+l.x*r,i+l.y*n,r,n)):l.visited||(t.fillStyle="black",t.fillRect(i+l.x*r,i+l.y*n,r,n));for(var a=0;a<l.walls.length;a++)if(l.walls[a])switch(a){case 0:t.moveTo(i+(l.x+0)*r,i+(l.y+0)*n),t.lineTo(i+(l.x+1)*r,i+(l.y+0)*n);break;case 1:t.moveTo(i+(l.x+1)*r,i+(l.y+0)*n),t.lineTo(i+(l.x+1)*r,i+(l.y+1)*n);break;case 2:t.moveTo(i+(l.x+1)*r,i+(l.y+1)*n),t.lineTo(i+(l.x+0)*r,i+(l.y+1)*n);break;case 3:t.moveTo(i+(l.x+0)*r,i+(l.y+1)*n),t.lineTo(i+(l.x+0)*r,i+(l.y+0)*n)}}t.stroke()}var l=e("./maze.js"),o=(e("./cell.js"),void 0);t.exports={update:n,generate:r}},{"./cell.js":2,"./maze.js":4}],4:[function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),s=e("./cell.js"),l=0,o=1,a=2,c=3,h=function(){function e(t,i){var n=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],s=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];r(this,e),this.cols=t,this.rows=i,this.cells=this.populate(),void 0!==n&&void 0!==s?(n=Math.max(0,Math.min(n,this.cols-1)),s=Math.max(0,Math.min(n,this.rows-1)),this.start=this.cells[this.index(n,s)]):this.start=this.random(this.cells),this.currentCell=this.start,this.currentCell.visited=!0}return n(e,[{key:"populate",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var i=0;i<this.cols;i++)e.push(new s(i,t));return e}},{key:"solve",value:function(){for(var e=!1;!e;)e=this.step()}},{key:"step",value:function(){if(this.currentCell){this.currentCell.visited=!0;var e=this.findNeighbors(this.currentCell,!0);if(e.length>0){var t=this.random(e);this.currentCell=this.dig(this.currentCell,t)}else{var i=this.hunt(this.cells);i?this.currentCell=this.dig(i.neighbor,i.cell):(this.end=this.currentCell,this.currentCell=null,console.log("done !"))}return!1}return!0}},{key:"hunt",value:function(e){if(!(e.length>0))return null;for(var t=0;t<e.length;t++){var i=e[t];if(!i.visited)for(var r=this.findNeighbors(i),n=0;n<r.length;n++){var s=r[n];if(s.visited)return{cell:i,neighbor:s}}}}},{key:"random",value:function(e){return e[Math.floor(Math.random()*e.length)]}},{key:"index",value:function(e,t){return e<0||e>this.cols-1||t<0||t>this.rows-1?-1:e+t*this.cols}},{key:"dig",value:function(e,t){if(e&&t){var i=t.x-e.x,r=t.y-e.y;i>0?(e.walls[o]=!1,t.walls[c]=!1):i<0&&(e.walls[c]=!1,t.walls[o]=!1),r>0?(e.walls[a]=!1,t.walls[l]=!1):r<0&&(e.walls[l]=!1,t.walls[a]=!1)}return t}},{key:"findNeighbors",value:function(e){for(var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=[],r=0;r<4;r++)switch(r){case l:var n=this.cells[this.index(e.x+0,e.y-1)];n&&(!t||t&&!n.visited)&&i.push(n);break;case o:var s=this.cells[this.index(e.x+1,e.y+0)];s&&(!t||t&&!s.visited)&&i.push(s);break;case a:var h=this.cells[this.index(e.x+0,e.y+1)];h&&(!t||t&&!h.visited)&&i.push(h);break;case c:var u=this.cells[this.index(e.x-1,e.y+0)];u&&(!t||t&&!u.visited)&&i.push(u)}return i}}]),e}();t.exports=h},{"./cell.js":2}]},{},[1]);
